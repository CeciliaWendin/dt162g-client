(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,t,a){e.exports=a.p+"static/media/hero-img.66381d11.jpg"},36:function(e,t,a){e.exports=a(74)},41:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(31),c=a.n(r),o=(a(41),a(4)),m=a(0),s=a(9),i=function(){if("undefined"!==window)return!!sessionStorage.getItem("token")&&JSON.parse(sessionStorage.getItem("token"))},u=function(){if("undefined"!==window)return!!sessionStorage.getItem("user")&&JSON.parse(sessionStorage.getItem("user"))},d=Object(m.g)(function(e){var t=e.history;return l.a.createElement("header",null,l.a.createElement("nav",null,l.a.createElement("ul",{className:"container nav nav-tabs align-items-center"},l.a.createElement("li",{className:"logo nav-item pr-3 pt-3 pb-3 pr-5"},l.a.createElement(o.b,{to:"/"},"Work it")),l.a.createElement("li",{className:"nav-item pr-3 pt-3 pb-3"},l.a.createElement(o.b,{to:"/"},"Hem")),l.a.createElement("li",{className:"nav-item pr-3 pt-3 pb-3"},l.a.createElement(o.b,{to:"/allposts"},"Inl\xe4gg")),u()&&l.a.createElement("li",{className:"nav-item pr-3 pt-5 pb-5"},l.a.createElement(o.b,{to:"/create"},"Skapa inl\xe4gg")),!u()&&l.a.createElement("li",{className:"nav-item ml-auto pr-3 pt-5 pb-5"},l.a.createElement(o.b,{to:"/login"},"Logga in")),u()&&l.a.createElement("li",{onClick:function(){return e=function(){return t.push("/")},"undefined"!==window&&(sessionStorage.removeItem("token"),sessionStorage.removeItem("user")),void e();var e},className:"nav-item ml-auto pr-3 pt-5 pb-5",style:{cursor:"pointer"}},"Logga ut"))))}),p=a(34),g=a.n(p),E=a(5),f=a.n(E),b=a(14),h=a.n(b),v=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)(function(){f.a.get("".concat("http://localhost:8000/api","/posts")).then(function(e){r(e.data)}).catch(function(e){return alert("N\xe5got gick fel vid h\xe4mtning av inl\xe4gg")})},[]),l.a.createElement("div",null,l.a.createElement(d,null),l.a.createElement("div",{className:"container p-5"},l.a.createElement("div",{className:"row flex-lg-row-reverse align-items-center g-5 py-4 mb-4"},l.a.createElement("div",{className:"col-12 col-lg-6"},l.a.createElement("img",{src:g.a,width:"607",height:"510",className:"hero-img d-block mx-lg-auto img-fluid",loading:"lazy",alt:"Ipsum"})),l.a.createElement("div",{className:"col-12 col-lg-6"},l.a.createElement("h1",{className:"display-5 fw-bold mb-3"},"Tr\xe4ningsdagbok"),l.a.createElement("p",{className:"lead"},"H\xe4r dokumenterar vi v\xe5r resa fr\xe5n soffpotatis till maratonl\xf6pare! Vill du ocks\xe5 vara med?"),l.a.createElement("div",{className:"d-grid gap-2 d-md-flex justify-content-center p-3 pr-5"},l.a.createElement("a",{href:"/login",className:"btn btn-primary btn-dark btn-lg px-4 me-md-2"},"Skapa konto")))),l.a.createElement("section",{className:"latest pb-4 pt-4"},l.a.createElement("h2",null,"Senaste tr\xe4ning"),l.a.createElement("div",{className:"row"},l.a.createElement("div",null,a.map(function(e,t){return l.a.createElement("div",{className:"latest",key:e._id},l.a.createElement("div",{className:"card-content"},l.a.createElement(o.b,{to:"/post/".concat(e.slug)},l.a.createElement("h3",null,e.title)),l.a.createElement("p",null," Datum: ",h()(new Date(e.date)).format("YYYY-MM-DD")),l.a.createElement("p",null,e.content.substring(0,55)),l.a.createElement("p",null,"Anv\xe4ndare: ",e.user)),l.a.createElement("span",{className:"badge badge-primary"},"Betyg: ",l.a.createElement("br",null),l.a.createElement("span",{className:"grade"},e.grade)))}))))))},N=a(11),y=a(10),O=function(){var e=Object(n.useState)({title:"",content:"",date:"",grade:"",user:u()}),t=Object(s.a)(e,2),a=t[0],r=t[1],c=a.title,o=a.content,m=a.date,p=a.grade,g=a.user,E=function(e){return function(t){r(Object(y.a)({},a,Object(N.a)({},e,t.target.value)))}};return l.a.createElement("div",null,l.a.createElement(d,null),l.a.createElement("div",{className:"container p-5"},l.a.createElement("h1",null,"Skapa inl\xe4gg"),l.a.createElement("form",{onSubmit:function(e){f.a.post("".concat("http://localhost:8000/api","/post"),{title:c,content:o,date:m,grade:p,user:g},{headers:{authorization:"Bearer ".concat(i())}}).then(function(e){r(Object(y.a)({},a,{title:"",content:"",date:"",grade:"",user:""})),alert("Inl\xe4gget skapades")}).catch(function(e){alert(e.response.data.error)})}},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"text-muted"},"Rubrik"),l.a.createElement("input",{onChange:E("title"),value:c,type:"text",className:"form-control",placeholder:"Rubrik",required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"text-muted"},"Inneh\xe5ll"),l.a.createElement("textarea",{onChange:E("content"),value:o,className:"form-control",placeholder:"Inneh\xe5ll",required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"text-muted"},"Datum"),l.a.createElement("input",{onChange:E("date"),value:m,type:"date",className:"form-control",placeholder:"Datum",required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"text-muted"},"Betyg fr\xe5n ett till fem"),l.a.createElement("input",{onChange:E("grade"),value:p,type:"number",className:"form-control",placeholder:"Betyg",min:"1",max:"5",required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"text-muted"},"Anv\xe4ndare"),l.a.createElement("input",{onChange:E("user"),value:g,type:"text",className:"form-control",placeholder:"Ditt namn",required:!0})),l.a.createElement("button",{className:"btn btn-primary"},"Skapa inl\xe4gg"))))},w=function(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)(function(){f.a.get("".concat("http://localhost:8000/api","/post/").concat(e.match.params.slug)).then(function(e){return c(e.data)}).catch(function(e){return alert("N\xe5got gick fel")})},[]),l.a.createElement("div",null,l.a.createElement(d,null),l.a.createElement("div",{className:"container p-5"},l.a.createElement("h1",null,r.title),l.a.createElement("p",null,r.content),l.a.createElement("div",null,l.a.createElement("p",{className:"lead"},"Datum: ",h()(new Date(r.date)).format("YYYY-MM-DD"),"  |  Betyg: ",r.grade,"  |  Anv\xe4ndare: ",r.user," "))))},j=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],r=t[1],c=function(){f.a.get("".concat("http://localhost:8000/api","/posts")).then(function(e){r(e.data)}).catch(function(e){return alert("Error fetching posts")})};Object(n.useEffect)(function(){c()},[]);var m=function(e){f.a.delete("".concat("http://localhost:8000/api","/post/").concat(e),{headers:{authorization:"Bearer ".concat(i())}}).then(function(e){alert(e.data.message),c()}).catch(function(e){return alert("Inl\xe4gget kunde inte raderas")})};return l.a.createElement("div",{className:"container pb-5"},l.a.createElement(d,null),l.a.createElement("br",null),l.a.createElement("h1",null,"Tr\xe4ningsinl\xe4gg"),l.a.createElement("hr",null),a.map(function(e,t){return l.a.createElement("div",{className:"row latest",key:e._id},l.a.createElement("div",{className:"col pt-3 pb-2"},l.a.createElement("div",{className:"row"},l.a.createElement("span",{className:"badge badge-primary"},"Betyg: ",l.a.createElement("br",null),l.a.createElement("span",{class:"grade"},e.grade)),l.a.createElement("div",{className:"content col-md-10"},l.a.createElement(o.b,{to:"/post/".concat(e.slug)},l.a.createElement("h2",null,e.title)),l.a.createElement("p",null," Datum: ",h()(new Date(e.date)).format("YYYY-MM-DD")),l.a.createElement("p",{className:"lead"},e.content.substring(0,100)),l.a.createElement("p",{className:"lead"},"Anv\xe4ndare: ",e.user)),u()&&l.a.createElement("div",{className:"col-md-2"},l.a.createElement(o.b,{to:"/post/update/".concat(e.slug),className:"btn btn-sm btn-outline-warning"},"Redigera"),l.a.createElement("button",{onClick:function(){return t=e.slug,void(window.confirm("\xc4r du s\xe4ker p\xe5 att du vill radera inl\xe4gget?")&&m(t));var t},className:"btn btn-sm btn-outline-danger ml-1"},"Radera")))))}))},k=function(e){var t=Object(n.useState)({title:"",content:"",slug:"",date:"",grade:""}),a=Object(s.a)(t,2),r=a[0],c=a[1],o=r.title,m=r.content,u=r.slug,p=r.date,g=r.grade;Object(n.useEffect)(function(){f.a.get("".concat("http://localhost:8000/api","/post/").concat(e.match.params.slug)).then(function(e){var t=e.data,a=t.title,n=t.content,l=t.slug,o=t.date,m=t.grade;c(Object(y.a)({},r,{title:a,content:n,slug:l,date:o,grade:m}))}).catch(function(e){return alert("Inl\xe4gget kunde inte laddas")})},[]);var E=function(e){return function(t){c(Object(y.a)({},r,Object(N.a)({},e,t.target.value)))}},b=function(e){e.preventDefault(),f.a.put("".concat("http://localhost:8000/api","/post/").concat(u),{title:o,content:m,date:p,grade:g},{headers:{authorization:"Bearer ".concat(i())}}).then(function(e){console.log(e);var t=e.data,a=t.title,n=t.content,l=t.slug,o=t.date,m=t.grade;c(Object(y.a)({},r,{title:a,content:n,slug:l,date:o,grade:m})),alert("Inl\xe4gget uppdaterades")}).catch(function(e){console.log(e.response),alert(e.response.data.error)})};return l.a.createElement("div",{className:"container pb-5"},l.a.createElement(d,null),l.a.createElement("br",null),l.a.createElement("h1",null,"Uppdatera inl\xe4gg"),l.a.createElement("form",{onSubmit:b},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"text-muted"},"Title"),l.a.createElement("input",{onChange:E("title"),value:o,type:"text",className:"form-control",placeholder:"Post title",required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"text-muted"},"Content"),l.a.createElement("textarea",{onChange:E("content"),value:m,type:"text",className:"form-control",placeholder:"Write something..",required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"text-muted"},"Datum"),l.a.createElement("input",{onChange:E("date"),value:p,type:"date",className:"form-control",placeholder:"Datum",required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"text-muted"},"Betyg"),l.a.createElement("input",{onChange:E("grade"),value:g,type:"number",className:"form-control",placeholder:"Betyg",required:!0})),l.a.createElement("div",null,l.a.createElement("button",{className:"btn btn-primary"},"Update"))))},x=Object(m.g)(function(e){var t=Object(n.useState)({name:"",password:""}),a=Object(s.a)(t,2),r=a[0],c=a[1],o=r.name,m=r.password;Object(n.useEffect)(function(){u()&&e.history.push("/")},[]);var i=function(e){return function(t){c(Object(y.a)({},r,Object(N.a)({},e,t.target.value)))}};return l.a.createElement("div",{className:"container pb-5"},l.a.createElement(d,null),l.a.createElement("br",null),l.a.createElement("h1",null,"Logga in"),l.a.createElement("p",null,'F\xf6r att skapa ett inl\xe4gg i din egen tr\xe4ningsdagbok - Logga in genom att ange ditt namn och l\xf6senordet "Miun2022!"'),l.a.createElement("br",null),l.a.createElement("form",{onSubmit:function(t){t.preventDefault(),console.table({name:o,password:m}),f.a.post("".concat("http://localhost:8000/api","/login"),{name:o,password:m}).then(function(t){console.log(t),function(e,t){"undefined"!==window&&(sessionStorage.setItem("token",JSON.stringify(e.data.token)),sessionStorage.setItem("user",JSON.stringify(e.data.name))),t()}(t,function(){return e.history.push("/create")})}).catch(function(e){console.log(e.response),alert(e.response.data.error)})}},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"text-muted"},"Namn"),l.a.createElement("input",{onChange:i("name"),value:o,type:"text",className:"form-control",placeholder:"Ditt namn",required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"text-muted"},"L\xf6senord"),l.a.createElement("input",{onChange:i("password"),value:m,type:"password",className:"form-control",placeholder:"Miun2022!",required:!0})),l.a.createElement("div",null,l.a.createElement("button",{className:"btn btn-primary"},"Logga in"))))}),S=a(35),D=function(e){var t=e.component,a=Object(S.a)(e,["component"]);return l.a.createElement(m.b,Object.assign({},a,{render:function(e){return u()?l.a.createElement(t,e):l.a.createElement(m.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},I=function(){return l.a.createElement(o.a,null,l.a.createElement(m.d,null,l.a.createElement(m.b,{path:"/",exact:!0,component:v}),l.a.createElement(m.b,{path:"/create",exact:!0,component:O}),l.a.createElement(m.b,{path:"/post/:slug",exact:!0,component:w}),l.a.createElement(m.b,{path:"/allposts",exact:!0,component:j}),l.a.createElement(m.b,{path:"/post/update/:slug",exact:!0,component:k}),l.a.createElement(m.b,{path:"/login",exact:!0,component:x}),l.a.createElement(D,{path:"/post/update/:slug",exact:!0,component:k})))};c.a.render(l.a.createElement(I,null),document.getElementById("root"))}},[[36,2,1]]]);
//# sourceMappingURL=main.6dad926d.chunk.js.map